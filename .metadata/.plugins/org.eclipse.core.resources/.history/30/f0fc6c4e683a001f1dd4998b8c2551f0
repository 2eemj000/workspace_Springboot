package edu.pnu.service;

import java.util.Date;
import java.util.List;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;

import edu.pnu.domain.MemberVO;

public class MemberService {
	
		private List<MemberVO> list;
		
		// 검색(Read - select)
		@GetMapping("/members")
		public List<MemberVO> getAllMember() {
		return list;
		}

		
		// 검색(Read - select)
		@GetMapping("/member")
		public MemberVO getMemberById(Integer id) {
			for (MemberVO m : list) {
				if (m.getId() == id)
					return m;
			}
			return null;
		}
	
		// 입력(Create - insert)
		@PostMapping("/member")
		public MemberVO addMember(MemberVO memberVO) {
			if (getMemberById(memberVO.getId()) != null) {
				System.out.println(memberVO.getId()+"가 이미 존재합니다.");
				return null;
			}
			memberVO.setRegidate(new Date());
			list.add(memberVO);
			return memberVO;
		}
		
}
